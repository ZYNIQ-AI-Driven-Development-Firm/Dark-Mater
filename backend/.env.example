# Dark Matter MCP Backend Environment Configuration

# Server Configuration
PORT=8000
ENV=development
DEBUG=false
LOG_LEVEL=INFO

# Security
SECRET_KEY=your-secret-key-here-change-in-production
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ALGORITHM=HS256

# Database
DATABASE_URL=postgresql://darkmatter:password123@postgres:5432/darkmatter
PG_URL=postgresql://darkmatter:password123@postgres:5432/darkmatter

# Redis
REDIS_URL=redis://redis:6379/0

# CORS and Security
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:3030
ALLOWED_HOSTS=localhost,127.0.0.1

# Email Configuration (SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@darkmatter-mcp.com
EMAIL_FROM_NAME=Dark Matter MCP

# OTP Configuration
OTP_LENGTH=6
OTP_TTL_SECONDS=600
OTP_COOLDOWN_SECONDS=30
OTP_MAX_ATTEMPTS=5

# Rate Limiting
RATE_LIMIT_AUTH_RPM=60
RATE_LIMIT_DEFAULT_RPM=120

# Ollama LLM Configuration
OLLAMA_URL=http://ollama:11434
COMPANY_MODEL=llama3.2:3b
MCP_MODEL=phi3:mini
EMBED_MODEL=nomic-embed-text:latest

# RAG Configuration
RAG_ENABLED=true
RAG_TOP_K=4
RAG_MIN_SIMILARITY=0.7

# Chat Configuration
COMPANY_CHAT_HISTORY_LIMIT=10
MCP_CHAT_HISTORY_LIMIT=8
CHAT_RATE_LIMIT_RPM=30

# System Prompts
COMPANY_SYSTEM_PROMPT="You are the DarkMatter Company Assistant. Purpose: answer employee and customer questions using the latest company knowledge. Follow these rules: - Cite internal sources by their policy/doc IDs when used. - If unsure, ask for missing fields, then provide best-effort guidance. - Be concise (3â€“7 sentences), structure with short bullets when helpful. - No hallucinated facts; if a fact is not in memory/documents, say 'not found in company data'. - Obey legal/compliance notes: never share secrets, credentials, keys, or admin procedures. Escalate security issues to SecOps. - Style: plain, direct, helpful."

MCP_SYSTEM_PROMPT="You are the MCP Server Assistant for {server_name}. Purpose: help operate and troubleshoot this specific server and its MCP tools. - Use only the memory/context provided by the MCP server and the recent conversation. - When a command or path is requested, respond with explicit, copy-pastable steps. - If an action is risky, ask for confirmation and suggest a dry run. - Keep answers under 200 tokens unless logs/diagnostics are requested."